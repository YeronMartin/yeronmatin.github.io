{"ast":null,"code":"import { days } from '../js/variables.js';\nvar apiKey = 'f9892889e00ba696ec9d7c610b9e3f38';\nvar apiURL = 'https://api.openweathermap.org/data/2.5/weather?&units=metric&q=yeles';\nvar apiURL_forecast = 'https://api.openweathermap.org/data/2.5/forecast?&units=metric&q=yeles';\nasync function checkWather() {\n  const response = await fetch(apiURL + '&appid=' + apiKey);\n  var data = await response.json();\n  return data;\n}\nasync function checkForecast() {\n  const response = await fetch(apiURL_forecast + '&appid=' + apiKey);\n  var data = await response.json();\n  return data;\n}\nexport let weatherData = await checkWather();\nexport let forecastData = await checkForecast();\nexport const getWind = function () {\n  return (weatherData.wind.speed * 3.6).toFixed(0);\n};\nexport const getVisibility = function () {\n  return (weatherData.visibility / 1000).toFixed(0);\n};\nexport const getMaxTempt = function (day) {\n  let values = [];\n  let i = 0;\n  let dayTxt = new Date(forecastData.list[i].dt * 1000).getDay() - 1;\n  while (dayTxt <= day + 1) {\n    if (dayTxt == day + 1) {\n      values.push(forecastData.list[i].main.temp);\n    }\n    i++;\n    dayTxt = new Date(forecastData.list[i].dt * 1000).getDay() - 1;\n  }\n  return Math.max(...values);\n};\nconsole.log(forecastData);\nexport const getMinTempt = function (day) {\n  let values = [];\n  let i = 0;\n  let dayTxt = new Date(forecastData.list[i].dt * 1000).getDay() - 1;\n  while (dayTxt <= day + 1) {\n    if (dayTxt == day + 1) {\n      values.push(forecastData.list[i].main.temp);\n    }\n    i++;\n    dayTxt = new Date(forecastData.list[i].dt * 1000).getDay() - 1;\n  }\n  return Math.min(...values);\n};\nexport const getDay = function (i) {\n  let dayTxt = new Date().getDay() - 1;\n  dayTxt = dayTxt + i > 6 ? dayTxt + i % 6 : dayTxt + i;\n  return days[dayTxt];\n};\nconsole.log(getDay(0));\nconsole.log(getDay(1));\nconsole.log(getDay(2));\nconsole.log(getDay(3));\nconsole.log(getDay(4));\nconsole.log(getDay(5));\nconsole.log(getDay(6));\nconsole.log(getDay(7));\nconsole.log(getDay(8));\nconsole.log(getDay(9));\nconsole.log(getDay(10));\nconsole.log(getDay(11));","map":{"version":3,"names":["days","apiKey","apiURL","apiURL_forecast","checkWather","response","fetch","data","json","checkForecast","weatherData","forecastData","getWind","wind","speed","toFixed","getVisibility","visibility","getMaxTempt","day","values","i","dayTxt","Date","list","dt","getDay","push","main","temp","Math","max","console","log","getMinTempt","min"],"sources":["/Users/yeronmartin/Desktop/web/src/js/watherScript.js"],"sourcesContent":["import {days} from '../js/variables.js';\n\nvar apiKey = 'f9892889e00ba696ec9d7c610b9e3f38';\nvar apiURL = 'https://api.openweathermap.org/data/2.5/weather?&units=metric&q=yeles';\nvar apiURL_forecast = 'https://api.openweathermap.org/data/2.5/forecast?&units=metric&q=yeles';\n\nasync function checkWather (){\n    const response = await fetch(apiURL + '&appid='+apiKey);\n    var data = await response.json();\n    return data;\n}\nasync function checkForecast (){\n    const response = await fetch(apiURL_forecast + '&appid='+apiKey);\n    var data = await response.json();\n    return data;\n}\nexport let weatherData =  await checkWather();\nexport let forecastData =  await checkForecast();\n\nexport const getWind =  function(){\n    return (weatherData.wind.speed * 3.6).toFixed(0); \n}\n\nexport const getVisibility =  function(){\n    return (weatherData.visibility /1000).toFixed(0); \n}\n\nexport const getMaxTempt =  function(day){\n    let values = [];\n    let i = 0;\n    let dayTxt = new Date(forecastData.list[i].dt* 1000).getDay() -1;\n\n    while(dayTxt <= day +1){\n        if(dayTxt == day +1){\n            values.push(forecastData.list[i].main.temp);\n        }\n        i++;\n        dayTxt = new Date(forecastData.list[i].dt* 1000).getDay() -1;\n\n    }\n    return Math.max(...values);\n}\n\n\nconsole.log(forecastData);\n\nexport const getMinTempt =  function(day){\n    let values = [];\n    let i = 0;\n    let dayTxt = new Date(forecastData.list[i].dt* 1000).getDay() -1;\n\n    while(dayTxt <= day +1){\n        if(dayTxt == day +1){\n            values.push(forecastData.list[i].main.temp);\n        }\n        i++;\n        dayTxt = new Date(forecastData.list[i].dt* 1000).getDay() -1;\n    }\n    return Math.min(...values);\n}\n\n\nexport const getDay = function(i){\n    let dayTxt = new Date().getDay() -1;\n    dayTxt = (dayTxt + i > 6)? dayTxt+i%6 : dayTxt+i;\n    return days[dayTxt];\n}\n\nconsole.log(getDay(0));\nconsole.log(getDay(1));\nconsole.log(getDay(2));\nconsole.log(getDay(3));\nconsole.log(getDay(4));\nconsole.log(getDay(5));\nconsole.log(getDay(6));\nconsole.log(getDay(7));\nconsole.log(getDay(8));\nconsole.log(getDay(9));\nconsole.log(getDay(10));\nconsole.log(getDay(11));\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}