{"ast":null,"code":"const Pbf = require('pbf');\nconst fs = require('fs');\nconst path = require('path');\nvar pbf = new Pbf(fs.readFileSync(path.join(__dirname, 'cities.pbf')));\nvar cities = [];\nvar lastLat = 0;\nvar lastLon = 0;\nwhile (pbf.pos < pbf.length) {\n  cities.push(pbf.readMessage(readCity, {\n    cityId: '',\n    name: '',\n    altName: '',\n    country: '',\n    featureCode: '',\n    adminCode: '',\n    population: 0,\n    loc: {\n      type: 'Point',\n      coordinates: [0, 0] //[lon,lat]\n    }\n  }));\n}\n\nmodule.exports = cities;\nfunction readCity(tag, city, pbf) {\n  if (tag === 1) city.cityId = pbf.readSVarint();else if (tag === 2) city.name = pbf.readString();else if (tag === 3) city.country = pbf.readString();else if (tag === 4) city.altName = pbf.readString();else if (tag === 5) city.muni = pbf.readString();else if (tag === 6) city.muniSub = pbf.readString();else if (tag === 7) city.featureCode = pbf.readString();else if (tag === 8) city.adminCode = pbf.readString();else if (tag === 9) city.population = pbf.readVarint();else if (tag === 10) {\n    lastLon += pbf.readSVarint();\n    city.loc.coordinates[0] = lastLon / 1e5;\n  } else if (tag === 11) {\n    lastLat += pbf.readSVarint();\n    city.loc.coordinates[1] = lastLat / 1e5;\n  }\n}","map":{"version":3,"names":["Pbf","require","fs","path","pbf","readFileSync","join","__dirname","cities","lastLat","lastLon","pos","length","push","readMessage","readCity","cityId","name","altName","country","featureCode","adminCode","population","loc","type","coordinates","module","exports","tag","city","readSVarint","readString","muni","muniSub","readVarint"],"sources":["/Users/yeronmartin/Desktop/web/node_modules/all-the-cities/index.js"],"sourcesContent":["const Pbf = require('pbf')\nconst fs = require('fs')\nconst path = require('path')\n\nvar pbf = new Pbf(fs.readFileSync(path.join(__dirname, 'cities.pbf')))\nvar cities = []\n\nvar lastLat = 0\nvar lastLon = 0\nwhile (pbf.pos < pbf.length) {\n    cities.push(pbf.readMessage(readCity, {\n        cityId: '',\n        name: '',\n        altName:'',\n        country: '',\n        featureCode: '',\n        adminCode: '',\n        population: 0,\n        loc: {\n            type: 'Point',\n            coordinates: [0, 0] //[lon,lat]\n        }\n    }))\n}\n\nmodule.exports = cities\n\nfunction readCity(tag, city, pbf) {\n    if (tag === 1) city.cityId = pbf.readSVarint()\n    else if (tag === 2) city.name = pbf.readString()\n    else if (tag === 3) city.country = pbf.readString()\n    else if (tag === 4) city.altName = pbf.readString()\n    else if (tag === 5) city.muni = pbf.readString()\n    else if (tag === 6) city.muniSub = pbf.readString()\n    else if (tag === 7) city.featureCode = pbf.readString()\n    else if (tag === 8) city.adminCode = pbf.readString()\n    else if (tag === 9) city.population = pbf.readVarint()\n    else if (tag === 10) {\n        lastLon += pbf.readSVarint()\n        city.loc.coordinates[0] = lastLon / 1e5\n    } else if (tag === 11) {\n        lastLat += pbf.readSVarint()\n        city.loc.coordinates[1] = lastLat / 1e5\n    }\n}\n"],"mappings":"AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAI,CAAC;AACxB,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAE5B,IAAIG,GAAG,GAAG,IAAIJ,GAAG,CAACE,EAAE,CAACG,YAAY,CAACF,IAAI,CAACG,IAAI,CAACC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC;AACtE,IAAIC,MAAM,GAAG,EAAE;AAEf,IAAIC,OAAO,GAAG,CAAC;AACf,IAAIC,OAAO,GAAG,CAAC;AACf,OAAON,GAAG,CAACO,GAAG,GAAGP,GAAG,CAACQ,MAAM,EAAE;EACzBJ,MAAM,CAACK,IAAI,CAACT,GAAG,CAACU,WAAW,CAACC,QAAQ,EAAE;IAClCC,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAC,EAAE;IACVC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE,CAAC;IACbC,GAAG,EAAE;MACDC,IAAI,EAAE,OAAO;MACbC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB;EACJ,CAAC,CAAC,CAAC;AACP;;AAEAC,MAAM,CAACC,OAAO,GAAGnB,MAAM;AAEvB,SAASO,QAAQA,CAACa,GAAG,EAAEC,IAAI,EAAEzB,GAAG,EAAE;EAC9B,IAAIwB,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACb,MAAM,GAAGZ,GAAG,CAAC0B,WAAW,CAAC,CAAC,MACzC,IAAIF,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACZ,IAAI,GAAGb,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAC3C,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACV,OAAO,GAAGf,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAC9C,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACX,OAAO,GAAGd,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAC9C,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACG,IAAI,GAAG5B,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAC3C,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACI,OAAO,GAAG7B,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAC9C,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACT,WAAW,GAAGhB,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAClD,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACR,SAAS,GAAGjB,GAAG,CAAC2B,UAAU,CAAC,CAAC,MAChD,IAAIH,GAAG,KAAK,CAAC,EAAEC,IAAI,CAACP,UAAU,GAAGlB,GAAG,CAAC8B,UAAU,CAAC,CAAC,MACjD,IAAIN,GAAG,KAAK,EAAE,EAAE;IACjBlB,OAAO,IAAIN,GAAG,CAAC0B,WAAW,CAAC,CAAC;IAC5BD,IAAI,CAACN,GAAG,CAACE,WAAW,CAAC,CAAC,CAAC,GAAGf,OAAO,GAAG,GAAG;EAC3C,CAAC,MAAM,IAAIkB,GAAG,KAAK,EAAE,EAAE;IACnBnB,OAAO,IAAIL,GAAG,CAAC0B,WAAW,CAAC,CAAC;IAC5BD,IAAI,CAACN,GAAG,CAACE,WAAW,CAAC,CAAC,CAAC,GAAGhB,OAAO,GAAG,GAAG;EAC3C;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}