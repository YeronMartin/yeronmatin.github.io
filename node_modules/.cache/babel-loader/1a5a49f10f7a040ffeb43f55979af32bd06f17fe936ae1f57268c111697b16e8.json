{"ast":null,"code":"var _jsxFileName = \"/Users/yeronmartin/Desktop/web/src/components/CitiesList.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { checkWeather, getTemp } from '../js/watherScript';\nimport { capitalizeFirstLetter } from '../js/variables';\nimport { CityCard } from './CityCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CitiesList = props => {\n  _s();\n  const [currentId, setCurrentId] = useState(2);\n  const onClick = function (city) {\n    props.setSelectedCity(city);\n  };\n  const [cityList, setCityList] = useState([{\n    city: 'Madrid',\n    temp: 0,\n    id: 0\n  }, {\n    city: 'London',\n    temp: 0,\n    id: 1\n  }]);\n  const [cityNames, setCityNames] = useState(['Madrid', 'London']);\n  const items = cityList.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: () => onClick(item.city),\n    children: /*#__PURE__*/_jsxDEV(CityCard, {\n      data: [item.city, item.temp]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 62\n    }, this)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 9\n  }, this));\n\n  /*\n    This use effect check if theinputText's value has changed \n    to != ''. This useEffect add a new city to the cityList;\n   */\n  useEffect(() => {\n    //Runs on the first render\n    //And any time any dependency value changes\n    if (props.inputText != '') {\n      addCityWrapper();\n    }\n    updateWeather();\n  }, [props.selectedCity]);\n  useEffect(() => {\n    //Runs on the first render\n    //And any time any dependency value changes\n    console.log(cityNames);\n  }, [cityNames]);\n\n  /*\n    This method wraps the addCity async method\n  */\n  const addCityWrapper = async function () {\n    addCity(props.inputText);\n  };\n\n  /*\n    AddCity method get a string (a city name) and get all the data \n    related to that city. Then iitt checks if the ciity has already \n    been added to the cityList and cityNames, if not it will add it\n  */\n  const addCity = async function (c) {\n    let data = await checkWeather(c);\n    const str = capitalizeFirstLetter(c.toLowerCase());\n    if (data.hasOwnProperty('weather') && !cityNames.includes(str)) {\n      setCityList([...cityList, {\n        city: str,\n        temp: data.main.temp.toFixed(0),\n        id: currentId\n      }]);\n      setCurrentId(currentId + 1);\n      setCityNames([...cityNames, str]);\n    }\n  };\n\n  /*\n    This meethod refresh all the city data\n   */\n  const updateWeather = async function () {\n    var data = [];\n    for (let i = 0; i < cityNames.length; i++) {\n      data.push(await checkWeather(cityNames[i]));\n    }\n    data = JSON.stringify(data);\n    setCityList([]);\n    console.log('city list should be empty ' + cityList);\n    for (let i = 0; i < cityNames.length; i++) {\n      setCityList([...cityList], {\n        city: 'oli',\n        temp: 15,\n        id: i\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row citiesList\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(CitiesList, \"mvGIhBLb24I72XCHO3/IfVH0yb0=\");\n_c = CitiesList;\nvar _c;\n$RefreshReg$(_c, \"CitiesList\");","map":{"version":3,"names":["React","useState","useEffect","checkWeather","getTemp","capitalizeFirstLetter","CityCard","jsxDEV","_jsxDEV","CitiesList","props","_s","currentId","setCurrentId","onClick","city","setSelectedCity","cityList","setCityList","temp","id","cityNames","setCityNames","items","map","item","children","data","fileName","_jsxFileName","lineNumber","columnNumber","inputText","addCityWrapper","updateWeather","selectedCity","console","log","addCity","c","str","toLowerCase","hasOwnProperty","includes","main","toFixed","i","length","push","JSON","stringify","className","_c","$RefreshReg$"],"sources":["/Users/yeronmartin/Desktop/web/src/components/CitiesList.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport {checkWeather, getTemp} from '../js/watherScript'\nimport { capitalizeFirstLetter } from '../js/variables';\n\nimport { CityCard } from './CityCard'\n\nexport const CitiesList = (props) => {\n  const [currentId, setCurrentId] = useState(2);\n  const onClick = function (city) {  \n    props.setSelectedCity(city)\n  }\n\n  const [cityList, setCityList] = useState ([{city: 'Madrid', temp: 0, id:0}, \n  {city: 'London', temp: 0, id:1}]);\n  const [cityNames, setCityNames] = useState(['Madrid', 'London']);\n  const items = cityList.map((item) =>\n        <li key={item.id} onClick={() => onClick(item.city)}><CityCard data = {[item.city, item.temp]}/></li>\n  );\n\n  /*\n    This use effect check if theinputText's value has changed \n    to != ''. This useEffect add a new city to the cityList;\n\n  */\n  useEffect(() => {\n    //Runs on the first render\n    //And any time any dependency value changes\n    if (props.inputText != ''){\n      addCityWrapper();\n    }\n\n    updateWeather();\n  }, [props.selectedCity]);\n\n  useEffect(() => {\n    //Runs on the first render\n    //And any time any dependency value changes\n    console.log(cityNames);\n  }, [cityNames]);\n\n  /*\n    This method wraps the addCity async method\n  */\n  const addCityWrapper =  async function () {\n    addCity(props.inputText);\n  }\n\n  /*\n    AddCity method get a string (a city name) and get all the data \n    related to that city. Then iitt checks if the ciity has already \n    been added to the cityList and cityNames, if not it will add it\n  */\n  const addCity = async function(c) {\n\n    let data = await checkWeather(c);\n    const str = capitalizeFirstLetter(c.toLowerCase());\n    \n    if (data.hasOwnProperty('weather') && !cityNames.includes(str)){\n      setCityList([...cityList, {city: str, temp: data.main.temp.toFixed(0), id: currentId}]);\n      setCurrentId(currentId + 1);\n      setCityNames([...cityNames, str]);\n\n    }\n  } \n\n  /*\n    This meethod refresh all the city data\n   */\n  const updateWeather = async function() {\n   var data = [];\n    for (let i = 0; i< cityNames.length; i++){\n      data.push(await checkWeather(cityNames[i]));\n    }\n    data = JSON.stringify(data);\n\n    setCityList([]);\n    console.log('city list should be empty '+cityList);\n\n    for (let i = 0; i< cityNames.length; i++){\n      setCityList([...cityList],{city: 'oli', temp: 15, id: i});\n    }\n  } \n\n\n  return (\n    <div className='row citiesList'>\n        <div className='col-12'>\n            <ul>\n               {items}\n            </ul>\n        </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}