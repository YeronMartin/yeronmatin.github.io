{"ast":null,"code":"var _jsxFileName = \"/Users/yeronmartin/Desktop/web/src/components/CitiesList.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useState, useEffect } from 'react';\nimport { checkWeather, getTemp } from '../js/watherScript';\nimport { capitalizeFirstLetter } from '../js/variables';\nimport { CityCard } from './CityCard';\nimport { AppManagerContext } from '../js/weatherAppManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CitiesList = () => {\n  _s();\n  const [currentId, setCurrentId] = useState(2);\n  const {\n    inputText\n  } = useContext(AppManagerContext);\n  const {\n    setCity_OnClick\n  } = useContext(AppManagerContext);\n  const [cityList, setCityList] = useState([{\n    city: '',\n    temp: 0,\n    id: 0\n  }, {\n    city: '',\n    temp: 0,\n    id: 1\n  }]);\n  const [cityNames, setCityNames] = useState(['Madrid', 'London']);\n  const items = cityList.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: () => setCity_OnClick(item.city),\n    children: /*#__PURE__*/_jsxDEV(CityCard, {\n      data: [item.city, item.temp],\n      delay: item.id * 0.2 + 0.2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 70\n    }, this)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this));\n\n  /*\n    This method wraps the addCity async method\n  */\n  const addCityWrapper = async function () {\n    addCity(inputText);\n  };\n\n  /*\n    AddCity method get a string (a city name) and get all the data \n    related to that city. Then iitt checks if the ciity has already \n    been added to the cityList and cityNames, if not it will add it\n  */\n  const addCity = async function (c) {\n    let data = await checkWeather(c);\n    const str = capitalizeFirstLetter(c.toLowerCase());\n    if (data.hasOwnProperty('weather') && !cityNames.includes(str)) {\n      setCityList([...cityList, {\n        city: str,\n        temp: data.main.temp.toFixed(0),\n        id: currentId\n      }]);\n      setCurrentId(currentId + 1);\n      setCityNames([...cityNames, str]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row citiesList\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(CitiesList, \"pYK80RMqMQ/50t7bPOeXq5j9bqA=\");\n_c = CitiesList;\nvar _c;\n$RefreshReg$(_c, \"CitiesList\");","map":{"version":3,"names":["React","useContext","useState","useEffect","checkWeather","getTemp","capitalizeFirstLetter","CityCard","AppManagerContext","jsxDEV","_jsxDEV","CitiesList","_s","currentId","setCurrentId","inputText","setCity_OnClick","cityList","setCityList","city","temp","id","cityNames","setCityNames","items","map","item","onClick","children","data","delay","fileName","_jsxFileName","lineNumber","columnNumber","addCityWrapper","addCity","c","str","toLowerCase","hasOwnProperty","includes","main","toFixed","className","_c","$RefreshReg$"],"sources":["/Users/yeronmartin/Desktop/web/src/components/CitiesList.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport { useState, useEffect} from 'react';\nimport {checkWeather, getTemp} from '../js/watherScript'\nimport { capitalizeFirstLetter } from '../js/variables';\n\nimport { CityCard } from './CityCard'\nimport { AppManagerContext } from '../js/weatherAppManager';\n\nexport const CitiesList = () => {\n  const [currentId, setCurrentId] = useState(2);\n  const {inputText} = useContext(AppManagerContext);\n\n\n  const {setCity_OnClick} = useContext(AppManagerContext);\n\n  const [cityList, setCityList] = useState ([{city: '', temp: 0, id:0}, \n  {city: '', temp: 0, id:1}]);\n  const [cityNames, setCityNames] = useState(['Madrid', 'London']);\n  const items = cityList.map((item) =>\n        <li key={item.id} onClick={() => setCity_OnClick(item.city)}><CityCard data = {[item.city, item.temp]} delay = {item.id * 0.2 +0.2}/></li>\n  );\n\n  /*\n    This method wraps the addCity async method\n  */\n  const addCityWrapper =  async function () {\n    addCity(inputText);\n  }\n\n  /*\n    AddCity method get a string (a city name) and get all the data \n    related to that city. Then iitt checks if the ciity has already \n    been added to the cityList and cityNames, if not it will add it\n  */\n  const addCity = async function(c) {\n\n    let data = await checkWeather(c);\n    const str = capitalizeFirstLetter(c.toLowerCase());\n    \n    if (data.hasOwnProperty('weather') && !cityNames.includes(str)){\n      setCityList([...cityList, {city: str, temp: data.main.temp.toFixed(0), id: currentId}]);\n      setCurrentId(currentId + 1);\n      setCityNames([...cityNames, str]);\n\n    }\n  } \n\n  \n\n\n  return (\n    <div className='row citiesList'>\n        <div className='col-12'>\n            <ul>\n               {items}\n            </ul>\n        </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}